<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edith UI - Styled</title>
    <script src="https://cdn.tailwindcss.com"></script>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
    
    <link rel="icon" href="favicon.svg" type="image/svg+xml">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="grid-pattern"></div>
    <div id="app-container" class="flex h-screen relative">
        <aside id="sidebar" class="sidebar w-64 p-4 flex-col absolute inset-y-0 left-0 transform -translate-x-full md:relative md:translate-x-0 z-30 flex">
            <div class="flex items-center justify-between mb-6">
                <div class="flex items-center gap-2">
                    <h1 class="text-xl font-bold text-[#5A67D8]">Edith</h1>
                </div>
                <button id="close-sidebar-btn" class="p-2 rounded-full btn-icon md:hidden">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#5A67D8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-5 w-5"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
                </button>
            </div>

            <button id="new-chat-btn" class="btn btn-primary flex items-center gap-3 w-full text-left py-2 px-4 mb-4">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-5 w-5"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>
                New chat
            </button>
            
            <div id="chat-history-container" class="flex-grow overflow-y-auto pr-2">
            </div>
        </aside>

        <main class="flex-1 flex flex-col p-4 md:p-8">
            <header class="flex items-center justify-between w-full mb-4">
                <button id="open-sidebar-btn" class="p-2 rounded-full btn-icon md:hidden">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#5A67D8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-5 w-5"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>
                </button>
                <div class="flex-1"></div>
                <div class="flex items-center gap-4">
                    <button id="sign-in-btn" class="btn btn-primary text-sm px-4 py-2">Sign In</button>
                    <button id="profile-avatar-btn" class="w-10 h-10 bg-[#5A67D8] rounded-full flex items-center justify-center text-white font-bold text-lg border-2 border-[#C5BAFF] hidden">S</button>
                </div>
            </header>

            <div class="flex-1 flex flex-col w-full max-w-3xl mx-auto overflow-y-auto">
                <div id="chat-container" class="flex-1 flex flex-col justify-center">
                    <div id="welcome-message" class="text-center">
                        <h2 class="main-heading mb-12">Hello, Guest</h2>
                    </div>
                </div>
            </div>

            <form id="query-form" class="w-full max-w-3xl mx-auto mt-4">
                <div class="input-area p-2 flex items-center gap-2 shadow-lg">
                    <textarea id="query-input" rows="1" placeholder="Ask Edith..." class="query-textarea flex-1 bg-transparent focus:outline-none resize-none p-2"></textarea>
                    <button id="submit-btn" type="submit" class="btn btn-primary px-4 py-2 flex items-center gap-2">
                        <span id="btn-text">Send</span>
                    </button>
                </div>
            </form>
        </main>
    </div>

    <div id="about-us-modal" class="modal-overlay fixed inset-0 flex items-center justify-center p-4 hidden z-50">
        <div class="modal-content w-full max-w-2xl max-h-[90vh] flex flex-col">
            <div class="modal-header p-6 flex items-center justify-between">
                <h3 class="text-xl font-semibold">About Edith</h3>
                <button id="close-modal-btn" class="p-2 rounded-full btn-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-6 w-6"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
                </button>
            </div>
            <div class="modal-body p-6 space-y-6 overflow-y-auto text-sm">
                <!-- Modal content is unchanged -->
            </div>
        </div>
    </div>
    
    <div id="settings-page" class="page fixed inset-0 z-40 transform translate-x-full transition-transform duration-300 ease-in-out">
        <header class="page-header">
            <button id="settings-back-btn" class="p-2 rounded-full btn-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"></polyline></svg>
            </button>
            <h2 class="text-xl font-bold">Settings</h2>
            <div class="w-10"></div> 
        </header>
        <div class="page-content">
            <div class="profile-header">
                <div class="profile-avatar">S</div>
                <div class="profile-name">User</div>
            </div>
            <div class="settings-group">
                <a href="#" id="device-link" class="settings-item"><span>My Device</span><svg class="chevron" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></svg></a>
                <a href="#" id="general-link" class="settings-item"><span>General</span><svg class="chevron" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></svg></a>
                <a href="#" id="about-link" class="settings-item"><span>About</span><svg class="chevron" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></svg></a>
                <a href="#" id="edit-profile-link" class="settings-item"><span>Edit Profile</span><svg class="chevron" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></svg></a>
            </div>
        </div>
    </div>

    
    <!-- ================================== -->
    <!-- EDIT PROFILE PAGE: UPDATED         -->
    <!-- ================================== -->
    <div id="edit-profile-page" class="page fixed inset-0 z-50 transform translate-x-full transition-transform duration-300 ease-in-out">
        <header class="page-header">
            <button id="profile-back-btn" class="p-2 rounded-full btn-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"></polyline></svg>
            </button>
            <h2 class="text-xl font-bold">Profile</h2>
            <div class="w-10"></div> 
        </header>
        <div class="page-content">
            <div class="profile-header">
                <div id="profile-avatar-display" class="profile-avatar">U</div>
                <div id="profile-name-display" class="profile-name">User</div>
            </div>
            <div class="settings-group">
                <div class="settings-item">
                    <span>First Name</span>
                    <span id="profile-firstname" class="profile-info">Loading...</span>
                </div>
                <div class="settings-item">
                    <span>Last Name</span>
                    <span id="profile-lastname" class="profile-info">Loading...</span>
                </div>
                 <div class="settings-item">
                    <span>Email</span>
                    <span id="profile-email" class="profile-info">Loading...</span>
                </div>
            </div>
            <div class="settings-group">
              <a href="#" id="delete-account-btn" class="settings-item text-red-500">
                <span>Delete Account</span>
                <svg class="chevron" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></svg>
              </a>
             </div>
             <div class="p-4 mt-auto">
                <!-- Changed to Sign Out button -->
                <button id="sign-out-btn" class="btn btn-primary w-full py-3">Sign Out</button>
            </div>
        </div>
    </div>
    
    <div id="delete-chat-modal" class="modal-overlay fixed inset-0 flex items-center justify-center p-4 hidden z-50">
        <div class="delete-modal-content w-full max-w-sm">
            <h3 class="text-lg font-bold text-gray-800 mb-2">Delete chat?</h3>
            <p id="delete-modal-text" class="text-sm text-gray-600 mb-6">This will permanently delete "Chat Title".</p>
            <div class="delete-modal-buttons flex justify-end gap-3">
                <button id="delete-modal-cancel-btn" class="btn btn-secondary px-4 py-2 text-sm">Cancel</button>
                <button id="delete-modal-confirm-btn" class="btn btn-danger px-4 py-2 text-sm">Delete</button>
            </div>
        </div>
    </div>
    <div id="delete-account-modal" class="modal-overlay fixed inset-0 flex items-center justify-center p-4 hidden z-50">
        <div class="delete-modal-content w-full max-w-sm">
            <h3 class="text-lg font-bold text-gray-800 mb-2">Delete Account</h3>
            <p class="text-sm text-gray-600 mb-4">
                This is a permanent action. To continue, please confirm your identity.
            </p>
            <div id="delete-account-message" class="message-div mb-4" style="display:none;"></div>

            <form id="delete-password-form" style="display:none;">
                <div class="input-group" style="margin-bottom: 1rem;">
                    <i class="fas fa-lock"></i>
                    <input type="password" id="delete-account-password" placeholder="Enter your password" required style="border-bottom-width: 2px;">
                </div>
                <button type="submit" class="btn btn-danger w-full text-sm" id="delete-account-confirm-btn">Confirm & Delete Account</button>
            </form>

            <div id="delete-google-form" style="display:none;">
                <button class="btn-google" id="delete-google-reauth-btn">
                    <i class="fab fa-google"></i>
                    <span>Confirm with Google</span>
                </button>
                <p class="text-center text-xs text-gray-500 mt-2">
                    Click to re-authenticate before deleting.
                </p>
            </div>

            <div class="delete-modal-buttons flex justify-end gap-3 mt-6">
                <button id="delete-account-cancel-btn" class="btn btn-secondary px-4 py-2 text-sm">Cancel</button>
            </div>
        </div>
    </div>

    <div id="general-page" class="page fixed inset-0 z-50 transform translate-x-full transition-transform duration-300 ease-in-out">
        <header class="page-header">
            <button id="general-back-btn" class="p-2 rounded-full btn-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"></polyline></svg>
            </button>
            <h2 class="text-xl font-bold">General</h2>
            <div class="w-10"></div> 
        </header>
        <div class="page-content space-y-4">
            <div class="bg-white p-4 rounded-xl border border-gray-100 shadow-sm">
                <div class="flex items-center gap-3 mb-3">
                    <div class="w-10 h-10 rounded-full bg-blue-50 flex items-center justify-center text-[#5A67D8]">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>
                    </div>
                    <div>
                        <p class="font-medium text-gray-900">Export Chat History</p>
                        <p class="text-xs text-gray-500">Select and download your chats</p>
                    </div>
                </div>
                <button id="export-data-btn" class="w-full py-2 bg-[#5A67D8] text-white text-sm font-medium rounded-lg hover:bg-[#4c51bf] transition">Select & Download</button>
            </div>
            <div class="bg-white p-4 rounded-xl border border-gray-100 shadow-sm">
                <div class="flex items-center gap-3 mb-3">
                    <div class="w-10 h-10 rounded-full bg-red-50 flex items-center justify-center text-red-500">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg>
                    </div>
                    <div>
                        <p class="font-medium text-gray-900">Report an Issue</p>
                        <p class="text-xs text-gray-500">Found a bug?</p>
                    </div>
                </div>
                <button id="report-issue-btn" class="w-full py-2 border border-red-200 text-red-500 text-sm font-medium rounded-lg hover:bg-red-50 transition">Contact Support</button>
            </div>
            <div class="bg-white p-4 rounded-xl border border-gray-100 shadow-sm cursor-pointer hover:bg-gray-50 transition" id="guidelines-btn">
                <div class="flex items-center justify-between">
                    <div class="flex items-center gap-3">
                        <div class="w-10 h-10 rounded-full bg-purple-50 flex items-center justify-center text-purple-500">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path></svg>
                        </div>
                        <div>
                            <p class="font-medium text-gray-900">Usage Guidelines</p>
                            <p class="text-xs text-gray-500">How to use Edith safely</p>
                        </div>
                    </div>
                    <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
                </div>
            </div>
        </div>
    </div>

    <div id="export-modal" class="modal-overlay fixed inset-0 flex items-center justify-center p-4 hidden z-50">
        <div class="delete-modal-content w-full max-w-sm flex flex-col max-h-[80vh]">
            <div class="text-center mb-4">
                <h3 class="text-lg font-bold text-gray-800">Select Chats</h3>
                <p class="text-xs text-gray-500">Choose conversations to save.</p>
            </div>
            <div class="flex items-center justify-between px-2 mb-2 pb-2 border-b border-gray-100">
                <span class="text-sm font-semibold text-gray-700">Select All</span>
                <input type="checkbox" id="export-select-all" class="w-4 h-4 text-[#5A67D8] rounded cursor-pointer">
            </div>
            <div id="export-chat-list" class="overflow-y-auto flex-1 mb-4 space-y-2 pr-1 custom-scrollbar" style="min-height: 100px;">
                <p class="text-center text-gray-400 text-sm py-4">Loading chats...</p>
            </div>
            <div class="flex justify-end gap-3 pt-2 border-t border-gray-100">
                <button id="export-cancel-btn" class="btn btn-secondary px-4 py-2 text-sm">Cancel</button>
                <button id="export-confirm-btn" class="btn btn-primary px-4 py-2 text-sm">Download</button>
            </div>
        </div>
    </div>

    <div id="report-modal" class="modal-overlay fixed inset-0 flex items-center justify-center p-4 hidden z-50">
        <div class="delete-modal-content w-full max-w-sm">
            <h3 class="text-lg font-bold text-gray-800 mb-4">Report an Issue</h3>
            <form id="report-form">
                <div class="input-group" style="margin-bottom: 1rem;">
                    <i class="fas fa-heading"></i>
                    <input type="text" id="report-subject" placeholder="Subject (e.g. Bug)" required style="border-bottom-width: 2px;">
                </div>
                <div class="input-group" style="margin-bottom: 1.5rem;">
                    <i class="fas fa-comment-alt" style="top: 15px; transform: none;"></i>
                    <textarea id="report-description" rows="4" placeholder="Describe the issue..." required 
                        style="width: 100%; background: transparent; border: none; border-bottom: 2px solid #C4D9FF; padding: 10px 10px 10px 2rem; outline: none; resize: none; font-family: 'Inter', sans-serif; color: #2D3748;"></textarea>
                </div>
                <div class="flex justify-end gap-3">
                    <button type="button" id="report-cancel-btn" class="btn btn-secondary px-4 py-2 text-sm">Cancel</button>
                    <button type="submit" id="report-send-btn" class="btn btn-primary px-4 py-2 text-sm">Send</button>
                </div>
            </form>
            <div id="report-success-msg" class="hidden text-center py-4">
                <div class="w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3 text-green-600">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline></svg>
                </div>
                <h4 class="font-bold text-gray-800">Report Sent!</h4>
                <p class="text-sm text-gray-600 mb-4">Thanks for the feedback.</p>
                <button id="report-done-btn" class="btn btn-primary w-full py-2">Close</button>
            </div>
        </div>
    </div>

    <div id="guidelines-modal" class="modal-overlay fixed inset-0 flex items-center justify-center p-4 hidden z-50">
    <div class="delete-modal-content w-full max-w-sm max-h-[80vh] overflow-y-auto custom-scrollbar">
        
        <div class="text-center mb-6">
            <h3 class="text-xl font-bold text-gray-900">User Manual</h3>
            <p class="text-xs text-[#5A67D8] font-bold uppercase tracking-wider">Operational Guidelines</p>
        </div>

        <ul class="space-y-6 text-sm text-gray-600">
            
            <li class="flex gap-3 items-start">
                <div class="flex-shrink-0 w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-[#5A67D8]">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"></path><circle cx="12" cy="12" r="3"></circle></svg>
                </div>
                <div>
                    <strong class="text-gray-900 block text-base mb-1">1. Setup & Wearing</strong>
                    <ul class="list-disc pl-4 space-y-1 text-xs text-gray-500">
                        <li>Place glasses comfortably; align the projection lens with your eye level.</li>
                        <li>Do not force the frame to avoid circuit damage.</li>
                        <li>Toggle the power switch to turn on the Edith boot screen.</li>
                    </ul>
                </div>
            </li>

            <li class="flex gap-3 items-start">
                <div class="flex-shrink-0 w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-[#5A67D8]">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m7 7 10 10-5 5V2l5 5L7 17"></path></svg>
                </div>
                <div>
                    <strong class="text-gray-900 block text-base mb-1">2. Connection & Sync</strong>
                    <ul class="list-disc pl-4 space-y-1 text-xs text-gray-500">
                        <li>Enable Bluetooth on your mobile device.</li>
                        <li>Open this companion app and select "AI Glasses" from the device list.</li>
                        <li>Wait for the "Connected" status before sending queries.</li>
                    </ul>
                </div>
            </li>

            <li class="flex gap-3 items-start">
                <div class="flex-shrink-0 w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-[#5A67D8]">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path></svg>
                </div>
                <div>
                    <strong class="text-gray-900 block text-base mb-1">3. AI Interaction & Display</strong>
                    <ul class="list-disc pl-4 space-y-1 text-xs text-gray-500">
                        <li>Type queries in the app to see responses on the OLED lens.</li>
                        <li>Keep your head steady for clear projection reading.</li>
                        <li>Avoid extreme sunlight; adjust brightness in "My Device" settings if needed.</li>
                    </ul>
                </div>
            </li>

            <li class="flex gap-3 items-start">
                <div class="flex-shrink-0 w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-[#5A67D8]">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"></path></svg>
                </div>
                <div>
                    <strong class="text-gray-900 block text-base mb-1">4. Care & Maintenance</strong>
                    <ul class="list-disc pl-4 space-y-1 text-xs text-gray-500">
                        <li>Charge with standard 5V USB; disconnect when full.</li>
                        <li>Clean lens with microfiber cloth only (no chemicals).</li>
                        <li>Regularly check app for firmware updates for new features.</li>
                    </ul>
                </div>
            </li>

            <li class="flex gap-3 items-start">
                <div class="flex-shrink-0 w-8 h-8 rounded-full bg-red-50 flex items-center justify-center text-red-500">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path></svg>
                </div>
                <div>
                    <strong class="text-gray-900 block text-base mb-1">5. Safety & Support</strong>
                    <ul class="list-disc pl-4 space-y-1 text-xs text-gray-500">
                        <li>Do not use while driving or operating heavy machinery.</li>
                        <li>Keep away from water, dust, and high heat.</li>
                        <li>In case of errors, restart the device or contact support via General Settings.</li>
                    </ul>
                </div>
            </li>

        </ul>
        
        <button id="guidelines-close-btn" class="btn btn-secondary w-full mt-8 py-3 bg-gray-100 hover:bg-gray-200 text-gray-800 font-bold rounded-xl transition">Close Guide</button>
    </div>
</div>

    <div id="device-page" class="page fixed inset-0 z-50 transform translate-x-full transition-transform duration-300 ease-in-out">
        <header class="page-header">
            <button id="device-back-btn" class="p-2 rounded-full btn-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"></polyline></svg>
            </button>
            <h2 class="text-xl font-bold">My Device</h2>
            <div class="w-10"></div> 
        </header>
        
        <div class="page-content space-y-6">
            <div class="bg-white p-6 rounded-2xl border border-gray-100 shadow-sm">
                <div class="flex items-center justify-between mb-6 pb-6 border-b border-gray-100">
                    <div class="flex items-center gap-4">
                        <div id="bt-icon-bg" class="w-12 h-12 rounded-full bg-gray-100 flex items-center justify-center text-gray-400 transition-colors duration-300">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m7 7 10 10-5 5V2l5 5L7 17"></path></svg>
                        </div>
                        <div>
                            <p class="font-bold text-gray-900 text-lg">Glasses</p>
                            <p id="connection-status-text" class="text-sm font-medium text-gray-400">○ Disconnected</p>
                        </div>
                    </div>
                    
                    <div id="connection-pulse" class="hidden relative flex h-3 w-3">
                      <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"></span>
                      <span class="relative inline-flex rounded-full h-3 w-3 bg-green-500"></span>
                    </div>
                </div>

                <div id="battery-section" class="transition-opacity duration-300 opacity-50"> <div class="flex justify-between items-end mb-2">
                        <span class="text-gray-500 font-medium text-sm">Battery Level</span>
                        <span id="battery-percent" class="text-2xl font-bold text-gray-800">--%</span>
                    </div>
                    
                    <div class="w-full bg-gray-100 rounded-full h-3 overflow-hidden">
                        <div id="battery-bar" class="bg-gray-400 h-3 rounded-full transition-all duration-500" style="width: 0%"></div>
                    </div>

                    <div class="flex items-center gap-2 mt-4 text-gray-500 bg-gray-50 p-3 rounded-lg">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>
                        <span class="text-sm font-medium">Est. Runtime: <span id="runtime-text" class="text-gray-800 font-bold">--</span></span>
                    </div>
                </div>
            </div>
            <button id="features-btn" class="w-full flex items-center justify-between p-4 bg-white rounded-xl border border-gray-100 shadow-sm hover:bg-gray-50 transition">
                <div class="flex items-center gap-3">
                    <div class="w-10 h-10 rounded-full bg-indigo-50 flex items-center justify-center text-indigo-500">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="12 2 2 7 12 12 22 7 12 2"></polygon><polyline points="2 17 12 22 22 17"></polyline><polyline points="2 12 12 17 22 12"></polyline></svg>
                    </div>
                    <div class="text-left">
                        <p class="font-medium text-gray-900">Device Features</p>
                        <p class="text-xs text-gray-500">Hardware specs & capabilities</p>
                    </div>
                </div>
                <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
            </button>
        </div>
    </div>

    <div id="features-modal" class="modal-overlay fixed inset-0 flex items-center justify-center p-4 hidden z-50">
        <div class="delete-modal-content w-full max-w-sm max-h-[80vh] overflow-y-auto custom-scrollbar">
            <div class="text-center mb-6">
                <h3 class="text-xl font-bold text-gray-900">VisionCore</h3>
                <p class="text-xs text-[#5A67D8] font-bold uppercase tracking-wider">System Specifications</p>
            </div>
            <ul class="space-y-6 text-sm text-gray-600">
                <li class="flex gap-3 items-start">
                    <div class="mt-1 min-w-[20px] text-[#5A67D8]"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"></path><circle cx="12" cy="12" r="3"></circle></svg></div>
                    <div><strong class="text-gray-900 block text-base mb-1">Augmented Visual Interface</strong><p class="leading-relaxed text-justify">The device features a sophisticated Micro-OLED HUD combined with an on-lens projection arrangement. This system displays texts, real-time notifications, and visual cues directly within the user's natural field of view.</p></div>
                </li>
                <li class="flex gap-3 items-start">
                    <div class="mt-1 min-w-[20px] text-[#5A67D8]"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2a10 10 0 1 0 10 10H12V2Z"></path><path d="M12 2a10 10 0 0 1 10 10"></path><path d="M12 12 2.1 12.6a10 10 0 0 1 .5-3.6"></path></svg></div>
                    <div><strong class="text-gray-900 block text-base mb-1">Neural Intelligence Core</strong><p class="leading-relaxed text-justify">Powered by a high-performance Dual-Core ESP32 architecture, the system acts as a low-latency bridge to the Gemini Neural Engine, enabling complex tasks like instant math solving and language translation.</p></div>
                </li>
                <li class="flex gap-3 items-start">
                    <div class="mt-1 min-w-[20px] text-[#5A67D8]"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="5" y="2" width="14" height="20" rx="2" ry="2"></rect><line x1="12" y1="18" x2="12.01" y2="18"></line></svg></div>
                    <div><strong class="text-gray-900 block text-base mb-1">Seamless Ecosystem Integration</strong><p class="leading-relaxed text-justify">Experience complete control through Hybrid Connectivity, seamlessly switching between WiFi for heavy data processing and Bluetooth Low Energy (BLE) for system telemetry, synced with a custom companion app.</p></div>
                </li>
                <li class="flex gap-3 items-start">
                    <div class="mt-1 min-w-[20px] text-[#5A67D8]"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20.24 12.24a6 6 0 0 0-8.49-8.49L5 10.5V19h8.5z"></path><line x1="16" y1="8" x2="2" y2="22"></line><line x1="17.5" y1="15" x2="9" y2="15"></line></svg></div>
                    <div><strong class="text-gray-900 block text-base mb-1">Ergonomic Endurance Design</strong><p class="leading-relaxed text-justify">Engineered for all-day wearability, the frame utilizes lightweight materials and a compact circuit arrangement. This ergonomic build is paired with deeply optimized power management for extended battery life.</p></div>
                </li>
                <li class="flex gap-3 items-start">
                    <div class="mt-1 min-w-[20px] text-[#5A67D8]"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="12 2 2 7 12 12 22 7 12 2"></polygon><polyline points="2 17 12 22 22 17"></polyline><polyline points="2 12 12 17 22 12"></polyline></svg></div>
                    <div><strong class="text-gray-900 block text-base mb-1">Modular & Upgradable</strong><p class="leading-relaxed text-justify">Built on a flexible architecture allowing for future hardware upgrades such as additional environmental sensors or improved AI models without requiring a complete system redesign.</p></div>
                </li>
            </ul>
            <button id="features-close-btn" class="btn btn-secondary w-full mt-8 py-3 bg-gray-100 hover:bg-gray-200 text-gray-800 font-bold rounded-xl transition">Close</button>
        </div>
    </div>

    <div id="about-page" class="page fixed inset-0 z-50 transform translate-x-full transition-transform duration-300 ease-in-out">
    <header class="page-header">
        <button id="about-back-btn" class="p-2 rounded-full btn-icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"></polyline></svg>
        </button>
        <h2 class="text-xl font-bold">About</h2>
        <div class="w-10"></div> 
    </header>
    
    <div class="page-content space-y-4">
        
        <div class="text-xs font-bold text-gray-400 uppercase tracking-wider px-2 mt-2">Information</div>

        <div class="bg-white p-4 rounded-xl border border-gray-100 shadow-sm hover:bg-gray-50 transition cursor-pointer" id="about-project-btn">
            <div class="flex items-center justify-between">
                <div class="flex items-center gap-3">
                    <div class="w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center text-gray-600">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg>
                    </div>
                    <span class="font-medium text-gray-900">About Project</span>
                </div>
                <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
            </div>
        </div>

        <div class="bg-white p-4 rounded-xl border border-gray-100 shadow-sm hover:bg-gray-50 transition cursor-pointer" id="privacy-btn">
            <div class="flex items-center justify-between">
                <div class="flex items-center gap-3">
                    <div class="w-10 h-10 rounded-full bg-green-50 flex items-center justify-center text-green-600">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path></svg>
                    </div>
                    <span class="font-medium text-gray-900">Privacy and Policy</span>
                </div>
                <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
            </div>
        </div>

        <div class="bg-white p-4 rounded-xl border border-gray-100 shadow-sm hover:bg-gray-50 transition cursor-pointer" id="licenses-btn">
            <div class="flex items-center justify-between">
                <div class="flex items-center gap-3">
                    <div class="w-10 h-10 rounded-full bg-blue-50 flex items-center justify-center text-blue-600">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg>
                    </div>
                    <span class="font-medium text-gray-900">Open source licenses</span>
                </div>
                <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
            </div>
        </div>

    </div>
</div>

    <div id="about-project-modal" class="modal-overlay fixed inset-0 flex items-center justify-center p-4 hidden z-50">
    <div class="delete-modal-content w-full max-w-sm text-center pt-8 pb-8 relative">
        
        <button id="about-project-close" class="absolute top-3 right-3 p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full transition">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
        </button>

        <div class="w-20 h-20 bg-[#4A90E2] rounded-2xl mx-auto flex items-center justify-center text-white shadow-lg mb-6">
            <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"></path></svg>
        </div>

        <h3 class="text-xl font-bold text-gray-900 mb-1">VisionCore Project</h3>
        
        <p class="text-sm text-gray-400 mb-6">Version 1.0.4 (Beta)</p>

        <div class="text-sm text-gray-600 leading-relaxed px-4 text-justify space-y-4">
            <p>
                <strong>EDITH</strong> (Enhanced Defense Intelligence Terminal Hub) represents a paradigm shift in wearable computing. It is an advanced Augmented Reality interface engineered to seamlessly bridge the gap between artificial intelligence and human perception. Unlike traditional devices, EDITH integrates real-time cloud intelligence directly into your line of sight without obstructing your natural vision.
            </p>
            <p>
                At its core lies a sophisticated hybrid architecture. The hardware utilizes the high-performance, dual-core <strong>ESP32 chipset</strong> to manage low-latency sensor data and power-efficient display drivers. This acts as a gateway to the <strong>Gemini Neural Engine</strong>, a cloud-based Large Language Model (LLM) that processes complex natural language queries, solves mathematical equations, and performs real-time translation instantly.
            </p>
            <p>
                This device is the flagship implementation of the <strong>VisionCore Initiative</strong>—an open-source movement dedicated to democratizing wearable technology. Our mission is to break down the barriers of proprietary hardware, creating accessible, AI-powered smart glasses that empower users with everyday intelligence.
            </p>
        </div>
    </div>
</div>

<div id="privacy-modal" class="modal-overlay fixed inset-0 flex items-center justify-center p-4 hidden z-50">
    <div class="delete-modal-content w-full max-w-sm max-h-[80vh] overflow-y-auto custom-scrollbar relative">
        
        <div class="flex justify-between items-center mb-4 border-b border-gray-100 pb-3 sticky top-0 bg-white z-10">
            <h3 class="text-lg font-bold text-gray-800">Privacy & Policy</h3>
            <button id="privacy-close" class="p-1 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full transition">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
            </button>
        </div>

<div class="space-y-5 text-sm text-gray-600 text-justify px-1 pb-4">
            
            <p class="leading-relaxed">
                At VisionCore, we believe that your data belongs to you. This policy outlines exactly how your information is handled, processed, and secured within the EDITH ecosystem.
            </p>

            <div>
                <h4 class="font-bold text-gray-800 mb-1">1. Data Collection & Storage</h4>
                <p class="leading-relaxed">
                    We collect minimal data necessary for operation: your email address (for authentication) and your conversation history. All data is encrypted in transit and at rest using <strong>Google Firebase</strong> infrastructure. We do not access, read, or analyze your private logs for internal purposes.
                </p>
            </div>

            <div>
                <h4 class="font-bold text-gray-800 mb-1">2. AI Processing & Third Parties</h4>
                <p class="leading-relaxed">
                    To provide intelligent responses, your text queries are transmitted securely to the <strong>Google Gemini API</strong>. This data is used solely for generating real-time answers and is not sold to third-party advertisers or data brokers.
                </p>
            </div>

            <div>
                <h4 class="font-bold text-gray-800 mb-1">3. Hardware Permissions</h4>
                <p class="leading-relaxed">
                    The companion app requires access to <strong>Bluetooth (BLE)</strong> to monitor device battery and connection status. This connection is local to your device; biometric or location data is never tracked or uploaded to our servers.
                </p>
            </div>

            <div>
                <h4 class="font-bold text-gray-800 mb-1">4. Data Retention & Deletion</h4>
                <p class="leading-relaxed">
                    You retain the "Right to be Forgotten." You can permanently delete your account and all associated chat history at any time via the "Delete Account" option in Profile Settings. This action is immediate and irreversible.
                </p>
            </div>

        </div>
        </div>
</div>

<div id="licenses-modal" class="modal-overlay fixed inset-0 flex items-center justify-center p-4 hidden z-50">
    <div class="delete-modal-content w-full max-w-sm max-h-[80vh] overflow-y-auto custom-scrollbar relative">
        
        <div class="flex justify-between items-center mb-4 border-b border-gray-100 pb-3 sticky top-0 bg-white z-10">
            <h3 class="text-lg font-bold text-gray-800">Open Source Licenses</h3>
            <button id="licenses-close" class="p-1 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full transition">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
            </button>
        </div>

        <ul class="space-y-3 px-1">
    
            <li class="flex justify-between items-center text-sm border-b border-gray-50 pb-2">
                <span class="text-gray-700">Google Gemini API</span>
                <span class="text-xs font-mono bg-blue-50 text-blue-600 px-2 py-1 rounded">Commercial / Free Tier</span>
            </li>

           <li class="flex justify-between items-center text-sm border-b border-gray-50 pb-2">
                <span class="text-gray-700">Firebase (Auth & Firestore)</span>
                <span class="text-xs font-mono bg-gray-100 text-gray-500 px-2 py-1 rounded">Apache 2.0</span>
           </li>

           <li class="flex justify-between items-center text-sm border-b border-gray-50 pb-2">
                <span class="text-gray-700">Vercel Deployment</span>
                <span class="text-xs font-mono bg-gray-100 text-gray-500 px-2 py-1 rounded">Platform</span>
           </li>

        </ul>
      </div>
</div>

    <script type="module" src="script.js"></script>    
</body>
</html>

